# axual_application_principal (Resource)

An ApplicationPrincipal is a security principal (certificate or comparable) that uniquely authenticates an Application on an Environment. Read more: https://docs.axual.io/axual/2022.2/self-service/application-management.html#configuring-application-securityauthentication

## Limitations
- Axual Terraform Provider only support these authentication methods:
	- SSL (MUTUAL TLS) as a Certificate(PEM). To use it please provide a string with PEM certificate as principal property.
	- SASL (OAUTHBEARER) as a Custom Principal that specifies the ID referenced in URI and tokens. To use it please provide a string with PEM certificate as principal property. For example, 'my-client'.
- Read more: https://docs.axual.io/axual/2022.2/self-service/application-management.html#configuring-application-securityauthentication

## Required Roles
- APPLICATION ADMIN or be part of the Team that owns the Application

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `application` (String) A valid UID of an existing application
- `environment` (String) A valid UID of an existing environment
- `principal` (String) The principal of an Application for an Environment

### Optional

- `custom` (Boolean) A boolean identifying whether we are creating a custom principal. If true, the custom principal will be stored in principal property.  Custom principal allows an application with SASL+OAUTHBEARER to produce/consume a topic. Custom Application Principal certificate is used to authenticate your application with an IAM provider using the custom ApplicationPrincipal as Client ID

### Read-Only

- `id` (String) Application Principal identifier

## Example Usage

```terraform
resource "axual_application_principal" "dev_dashboard_in_dev_principal" {
  environment = axual_environment.development.id
  application = axual_application.dev_dashboard.id
  principal = file("${path.module}/test3.pem")
}

resource "axual_application_principal" "dev_dashboard_in_staging_principal" {
  environment = axual_environment.staging.id
  application = axual_application.dev_dashboard.id
  principal = file("${path.module}/test3.pem")
}

resource "axual_application_principal" "log_scraper_in_dev_principal" {
  environment = axual_environment.development.id
  application = axual_application.log_scraper.id
  principal = file("${path.module}/test3.pem")
}

resource "axual_application_principal" "log_scraper_in_staging_principal" {
  environment = axual_environment.staging.id
  application = axual_application.log_scraper.id
  principal = file("${path.module}/test3.pem")
}

resource "axual_application_principal" "dev_dashboard_in_production_principal" {
  environment = axual_environment.production.id
  application = axual_application.dev_dashboard.id
  principal = file("${path.module}/test3.pem")
}

resource "axual_application_principal" "log_scraper_in_production_principal" {
  environment = axual_environment.production.id
  application = axual_application.log_scraper.id
  principal = file("${path.module}/test3.pem")
}
```

## Import

Import is not currently supported.