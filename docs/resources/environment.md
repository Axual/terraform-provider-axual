# axual_environment (Resource)

Environments are used typically to support the application lifecycle, as it is moving from Development to Production.  In Self Service, they also allow you to test a feature in isolation, by making the environment Private. Read more: https://docs.axual.io/axual/2024.2/self-service/environment-management.html#managing-environments

## Required Roles
- ENVIRONMENT_AUTHOR or ENVIRONMENT_ADMIN

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `authorization_issuer` (String) Allowed values: `Stream owner` and `Auto`. This indicates if any deployments on this environment should be AUTO approved or requires approval from Stream Owner. For private environments, only AUTO can be selected.
- `color` (String) The color used display the environment. Only these colors are allowed: `#80affe`, `#4686f0`, `#3347e1`, `#1a2dbc`, `#fee492`, `#fbd04e`, `#c2a7f9`, `#8b58f3`,`#e9b105`, `#d19e02`, `#6bdde0`, `#21ccd2`, `#19b9be`, `#069499`, `#532cd`, `#3b0d98`
- `instance` (String) The id of the instance where this environment should be deployed.
- `name` (String) A suitable name identifying this environment. Alphabetical characters, digits and the following characters are allowed: `- `,` _` ,` .`, but not as the first character.)
- `owners` (String) The id of the team owning this environment.
- `short_name` (String) A short name that will uniquely identify this environment. The short name should be between 1 and 20 characters. Only alphanumeric characters are allowed.
- `visibility` (String) Can be `Public` or `Private`. The Private environments are only visible to the owning group (your team). They are not included in dashboard visualisations.

### Optional

- `description` (String) A text describing the purpose of the environment. Description must be between 1 and 200 characters.
- `partitions` (Number) Defines the number of partitions configured for every topic of this tenant. If not specified, default value is 12. Value must be between 1 and 120000
- `properties` (Map of String) Environment-wide properties for all topics and applications.
- `retention_time` (Number) The time in milliseconds after which the messages can be deleted from all topics. If not specified, default value is 7 days (604800000). Value must be between 1000 and 160704000000 (ms).
- `viewers` (Set of String) Environment Viewer Groups define which Groups are authorized to view all Topic Configurations and Application Authentications within the Environment, regardless of ownership and visibility. Read more: https://docs.axual.io/axual/2024.2/self-service/user-group-management.html#viewer-groups

### Read-Only

- `id` (String) Environment unique identifier

 - Public Environments cannot be deleted

## Example Usage

```hcl
resource "axual_environment" "development" {
  name = "development"
  short_name = "dev"
  description = "This is the development environment"
  color = "#19b9be"
  visibility = "Public"
  authorization_issuer = "Auto"
  instance = "51be2a6a5eee481198787dc346ab6608"
  owners = axual_group.tenant_admin_group.id
}
```

For a full example which shows the capabilities of the latest TerraForm provider, check https://github.com/Axual/terraform-provider-axual/tree/master/examples/axual.

## Import

Import is supported using the following syntax:

```shell
terraform import axual_environment.<LOCAL NAME> <ENVIRONMENT UID>
terraform import axual_environment.test_env ab1cf1d63a55436391463cee3f56e393
```