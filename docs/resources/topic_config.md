# axual_topic_config (Resource)

Topic Config resource. Once the Topic has been created, the next step to actually configure the topic for any environment is to configure the topic. Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#configuring-a-topic-for-an-environment

## Required Roles
- STREAM_ADMIN or be part of the group owning the Topic

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment` (String) The environment this topic configuration is associated with
- `partitions` (Number) The number of partitions define how many consumer instances can be started in parallel on this topic. Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#partitions-number
- `retention_time` (Number) Determine how long the messages should be available on a topic. There should be an agreed value most likely discussed in Intake session with the team supporting Axual Platform. In most cases, it is 7 days. Minimum value is 1000 (ms). Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#retention-time
- `topic` (String) The Topic this topic configuration is associated with

### Optional

- `key_schema_version` (String) The schema version this topic config supports for the key.
- `properties` (Map of String) You can define Kafka properties for your topic here. All options are: `segment.ms`, `retention.bytes`, `min.compaction.lag.ms`, `max.compaction.lag.ms`, `message.timestamp.difference.max.ms`, `message.timestamp.type` Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#configuring-a-topic-for-an-environment
- `value_schema_version` (String) The schema version this topic config supports for the value.

### Read-Only

- `id` (String) topic config identifier

## Example Usage

```hcl
resource "axual_topic_config" "logs_in_dev" {
  partitions = 1
  retention_time = 864000
  topic = axual_topic.logs.id
  environment = axual_environment.development.id
  properties = {"segment.ms"="600012", "retention.bytes"="-1"}
}

resource "axual_topic_config" "example-with-schema-version" {
  partitions = 1
  retention_time = 864000
  topic = axual_topic.logs_with_avro.id
  environment = axual_environment.development.id
  key_schema_version = axual_schema_version.axual_gitops_test_schema_version2.id
  value_schema_version = axual_schema_version.axual_gitops_test_schema_version1.id
  properties = {"segment.ms"="600012", "retention.bytes"="-1"}
}
```

For a full example which shows the capabilities of the latest TerraForm provider, check https://github.com/Axual/terraform-provider-axual/tree/master/examples/axual.

## Import

Import is supported using the following syntax:

```shell
terraform import axual_topic_config.<LOCAL NAME> <TOPIC CONFIG UID>
terraform import axual_topic_config.test_topic_config b21cf1d63a55436391463cee3f56e393
```