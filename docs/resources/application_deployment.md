# axual_application_deployment (Resource)

An Application Deployment stores the configs for connector application type that is saved for an Application on an Environment.

## Usage
- To see which configuration parameters are required for each connect-plugins(`axual_application.application_class`), please refer to docs: `https://docs.axual.io/connect/Axual-Connect/developer/connect-plugins-catalog/connect-plugins-catalog.html`.
- Creating `axual_application_deployment` resource automatically starts it.
- Updating `axual_application_deployment` resource automatically stops it if it was running, updates it and then starts it.
- Deleting `axual_application_deployment` resource automatically stops it if it was running and then deletes it.
- More information about connector applications in Axual: `https://docs.axual.io/connect/Axual-Connect/developer/starting-connectors.html`.

## Required Roles
- APPLICATION_ADMIN or be part of the Team that owns the Application

## Limitations
- Please make sure to use the `depends_on` as in the example below, because it guarantees the correct order when creating or deleting multiple resources. Including it guarantees that Terraform creates the required resources before `application_deployment` resource: `application_principal`, `axual_application_access_grant`, `axual_application_access_grant_approval`.
- Currently, we do not support a data source for a Connector application.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `application` (String) A valid Uid of an existing application
- `configs` (Map of String, Sensitive) Connector config for Application Deployment. This field is Sensitive and will not be displayed in server log outputs when using Terraform commands. All available application plugin class names, plugin types and plugin configs are listed here in API- `GET: /api/connect_plugins?page=0&size=9999&sort=pluginClass` and in Axual Connect Docs: https://docs.axual.io/connect/Axual-Connect/developer/connect-plugins-catalog/connect-plugins-catalog.html
- `environment` (String) A valid Uid of an existing environment

### Read-Only

- `id` (String) The ID of this resource.

## Example Usage

```hcl
resource "axual_application_deployment" "connector_axual_application_deployment" {
  environment =  "09412f2ac3cb436598c68f5822ec3572"
  application = axual_application.connector_test_application.id
  configs = {
    "logger.name" = "tflogger",
    "throughput" = "10",
    "topic" = "tf-testing-source-1-2",
    "key.converter" = "StringConverter",
    "value.converter" = "StringConverter",
    "header.converter" = "",
    "config.action.reload" = "restart",
    "tasks.max" = "1",
    "errors.log.include.messages" = "false",
    "errors.log.enable" = "false",
    "errors.retry.timeout" = "0",
    "errors.retry.delay.max.ms" = "60000",
    "errors.tolerance" = "none",
    "predicates" = "",
    "topic.creation.groups" = "",
    "transforms" = ""
  }
  depends_on = [
    axual_application_access_grant_approval.connector_axual_application_access_grant_approval-logsource-1,
  ]
}
```

For a full example which shows the capabilities of the latest TerraForm provider, check https://github.com/Axual/terraform-provider-axual/tree/master/examples/axual.

## Import

Import is not currently supported.