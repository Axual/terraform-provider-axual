# axual_user (Resource)

User resource. Please note that creating a new user with Terraform does not automatically allow the user to log in. This is because the user is only created in the Self-Service Database, not in an authentication provider such as Keycloak or Auth0. For new users please either use user data source or import using with terraform import command. Read more about user in Axual Self-Service: https://docs.axual.io/axual/2024.4/self-service/user-group-management.html#users

## Limitations
- Creating a user with Terraform adds the user to the Self-Service database, but does not register the user in the authentication system (such as Keycloak or Auth0). As a result, users created with Terraform cannot log in to Self-Service.
- For referencing existing users:
    - Use the user data source: https://registry.terraform.io/providers/Axual/axual/latest/docs/data-sources/user
    - Or import existing users using `terraform import`: https://registry.terraform.io/providers/Axual/axual/latest/docs/resources/user#import

## Required Roles
- TENANT_ADMIN

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `email_address` (String) User's email address
- `first_name` (String) User's first name
- `last_name` (String) User's last name

### Optional

- `middle_name` (String) User's middle name
- `phone_number` (String) User's phone number
- `roles` (Attributes Set) Roles attributed to the user. All possible roles with descriptions are listed here: https://docs.axual.io/apidocs/mgmt-api/8.5.0/index.html#valid-roles (see [below for nested schema](#nestedatt--roles))

### Read-Only

- `id` (String) User unique identifier

<a id="nestedatt--roles"></a>
### Nested Schema for `roles`

Required:

- `name` (String)

## Example Usage

```hcl
resource "axual_user" "john" {
  first_name    = "John"
  last_name     = "Doe"
  email_address = "john.doe@example.com"
  phone_number = "+37253412551"
  roles         = [
    { name = "APPLICATION_AUTHOR" },
    { name = "ENVIRONMENT_AUTHOR" },
    { name = "STREAM_AUTHOR" }
  ]
}

resource "axual_user" "jane" {
  first_name    = "Jane"
  last_name     = "Walker"
  email_address = "jane.walker@example.com"
  phone_number = "+37253412553"
  roles         = [
    { name = "APPLICATION_AUTHOR" },
    { name = "ENVIRONMENT_AUTHOR" },
    { name = "STREAM_AUTHOR" }
  ]
}
```

For a full example which shows the capabilities of the latest TerraForm provider, check https://github.com/Axual/terraform-provider-axual/tree/master/examples/axual.

## Import

Import is supported using the following syntax:

```shell
terraform import axual_user.<LOCAL NAME> <USER UID>
terraform import axual_user.test_user b21cf1d63a55436391463cee3f56e393
```