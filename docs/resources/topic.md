# axual_topic (Resource)

A topic represents a flow of information (messages), which is continuously updated. Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html

## Required Roles
- ENVIRONMENT_AUTHOR or ENVIRONMENT_ADMIN

## Limitations
- If no properties please leave properties empty like this: properties = { }

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `key_type` (String) The key type and reference to the schema. Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#key-type
- `name` (String) The name of the topic. Can only contain letters, numbers, dots, dashes and underscores and cannot begin with an underscore, dot or dash, but can't start with underscore, dot or dash. The topic name is usually discussed and finalized as part of the Intake session or a follow up.
- `owners` (String) The team owning this topic. Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#topic-owner
- `retention_policy` (String) Designate the retention policy to use on old log segments. Only these values are allowed: `compact`, `delete`, `compact,delete`  Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#retention-policy
- `value_type` (String) The value type and reference to the schema. Read more: https://docs.axual.io/axual/2025.1/self-service/topic-management.html#value-type

### Optional

- `description` (String) A text describing the purpose of the topic.
- `key_schema` (String) (if `key_type` is `AVRO`) The key type and reference to the schema (if applicable).
- `properties` (Map of String) Advanced (Kafka) properties for a topic in a given environment. If no properties please leave properties empty like this: properties = { }.  Read more: https://docs.axual.io/axual/2025.1/self-service/advanced-features.html#configuring-topic-properties
- `value_schema` (String) (if `value_type` is `AVRO`) The value type and reference to the schema (if applicable).
- `viewers` (Set of String) The Viewer Groups of this topic. Topic Viewer Groups define which Groups are authorized to View Topic Configurations, regardless of ownership and visibility. Read more: https://docs.axual.io/axual/2025.1/self-service/user-group-management.html#viewer-groups

### Read-Only

- `id` (String) Topic unique identifier

## Example Usage

```hcl
resource "axual_topic" "logs" {
  name = "logs"
  key_type = "String"
  value_type = "String"
  owners = axual_group.team-bonanza.id
  retention_policy = "delete"
  properties = { propertyKey1: "propertyValue1", propertyKey2: "propertyValue2"}
  description = "Logs from all applications"
}

resource "axual_topic" "example_avro" {
  name = "example_avro_topic"
  key_type = "AVRO"
  key_schema = axual_schema_version.axual_gitops_test_schema_version1.schema_id
  value_type = "AVRO"
  value_schema = axual_schema_version.axual_gitops_test_schema_version2.schema_id
  owners = axual_group.team-bonanza.id
  retention_policy = "delete"
  properties = { }
  description = "Logs from all applications with Avro schema"
}
```

For a full example which shows the capabilities of the latest TerraForm provider, check https://github.com/Axual/terraform-provider-axual/tree/master/examples/axual.

## Import

Import is supported using the following syntax:

```shell
terraform import axual_topic.<LOCAL NAME> <TOPIC UID>
terraform import axual_topic.test_topic b21cf1d63a55436391463cee3f56e393
```